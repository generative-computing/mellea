---
title: "mellea.stdlib.components.genslot"
sidebarTitle: "mellea.stdlib.components.genslot"
description: "A method to generate outputs based on python functions and a Generative Slot function."
---





import { SidebarFix } from "/snippets/SidebarFix.mdx";

<SidebarFix />

## Functions

<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />


### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `create_response_format` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L40" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
create_response_format(func: Callable[..., R]) -> type[FunctionResponse[R]]
```


Create a Pydantic response format class for a given function.

**Args:**
- `func`: A function with exactly one argument

**Returns:**
- A Pydantic model class that inherits from FunctionResponse[T]


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `describe_function` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L154" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
describe_function(func: Callable) -> FunctionDict
```


Generates a FunctionDict given a function.

**Args:**
- `func `: Callable function that needs to be passed to generative slot.

**Returns:**
- Function dict of the passed function.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `get_argument` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L170" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_argument(func: Callable, key: str, val: Any) -> Argument
```


Returns an argument given a parameter.

Note: Performs additional formatting for string objects, putting them in quotes.

**Args:**
- `func `: Callable Function
- `key `: Arg key
- `val `: Arg value

**Returns:**
- an argument object representing the given parameter.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `bind_function_arguments` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L196" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
bind_function_arguments(func: Callable[P, R], *args: P.args, **kwargs: P.kwargs) -> dict[str, Any]
```


Bind arguments to function parameters and return as dictionary.

**Args:**
- `func`: The function to bind arguments for.
- `*args`: Positional arguments to bind.
- `**kwargs`: Keyword arguments to bind.

**Returns:**
- Dictionary mapping parameter names to bound values with defaults applied.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `generative` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L705" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
generative(func: Callable[P, R]) -> GenerativeSlot[P, R]
```


Convert a function into an AI-powered function.

This decorator transforms a regular Python function into one that uses an LLM
to generate outputs. The function's entire signature - including its name,
parameters, docstring, and type hints - is used to instruct the LLM to imitate
that function's behavior. The output is guaranteed to match the return type
annotation using structured outputs and automatic validation.

Notes:
- Works with async functions as well.
- Must pass all parameters for the original function as keyword args.
- Most python type-hinters will not show the default values but will correctly infer them;
this means that you can set default values in the decorated function and the only necessary values will be a session or a (context, backend).

Tip: Write the function and docstring in the most Pythonic way possible, not
like a prompt. This ensures the function is well-documented, easily understood,
and familiar to any Python developer. The more natural and conventional your
function definition, the better the AI will understand and imitate it.

The requirements and validation for the generative function operate over a textual representation
of the arguments / outputs (not their python objects).

**Args:**
- `func`: Function with docstring and type hints. Implementation can be empty (...).

**Returns:**
- An AI-powered function that generates responses using an LLM based on the
- original function's signature and docstring.

**Raises:**
- `ValueError`: (raised by @generative) if the decorated function has a parameter name used by generative slots
- `ValidationError`: (raised when calling the generative slot) if the generated output cannot be parsed into the expected return type. Typically happens when the token limit for the generated output results in invalid json.
- `TypeError`: (raised when calling the generative slot) if any of the original function's parameters were passed as positional args
- `PreconditionException`: (raised when calling the generative slot) if the precondition validation of the args fails; catch the exception to get the validation results

**Examples:**

```python
>>> from mellea import generative, start_session
>>> session = start_session()
>>> @generative
... def summarize_text(text: str, max_words: int = 50) -> str:
...     '''Generate a concise summary of the input text.'''
...     ...
>>>
>>> summary = summarize_text(session, text="Long text...", max_words=30)

>>> from typing import List
>>> from dataclasses import dataclass
>>>
>>> @dataclass
... class Task:
...     title: str
...     priority: str
...     estimated_hours: float
>>>
>>> @generative
... async def create_project_tasks(project_desc: str, count: int) -> List[Task]:
...     '''Generate a list of realistic tasks for a project.
...
...     Args:
...         project_desc: Description of the project
...         count: Number of tasks to generate
...
...     Returns:
...         List of tasks with titles, priorities, and time estimates
...     '''
...     ...
>>>
>>> tasks = await create_project_tasks(session, project_desc="Build a web app", count=5)

>>> @generative
... def analyze_code_quality(code: str) -> Dict[str, Any]:
...     '''Analyze code quality and provide recommendations.
...
...     Args:
...         code: Source code to analyze
...
...     Returns:
...         Dictionary containing:
...         - score: Overall quality score (0-100)
...         - issues: List of identified problems
...         - suggestions: List of improvement recommendations
...         - complexity: Estimated complexity level
...     '''
...     ...
>>>
>>> analysis = analyze_code_quality(
...     session,
...     code="def factorial(n): return n * factorial(n-1)",
...     model_options={"temperature": 0.3}
... )

>>> @dataclass
... class Thought:
...     title: str
...     body: str
>>>
>>> @generative
... def generate_chain_of_thought(problem: str, steps: int = 5) -> List[Thought]:
...     '''Generate a step-by-step chain of thought for solving a problem.
...
...     Args:
...         problem: The problem to solve or question to answer
...         steps: Maximum number of reasoning steps
...
...     Returns:
...         List of reasoning steps, each with a title and detailed body
...     '''
...     ...
>>>
>>> reasoning = generate_chain_of_thought(session, problem="How to optimize a slow database query?")
```


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

## Classes

<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />


### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `FunctionResponse` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L34" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Generic base class for function response formats.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `FunctionDict` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L63" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Return Type for a Function Component.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `ArgumentDict` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L71" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Return Type for a Argument Component.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `Argument` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L79" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


An Argument.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `Arguments` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L96" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `ArgPreconditionRequirement` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L112" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Specific requirement with template for validating precondition requirements against a set of args.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `PreconditionException` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L129" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Exception raised when validation fails for a generative slot's arguments.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `Function` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L145" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


A Function.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `ExtractedArgs` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L226" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Used to extract the mellea args and original function args. See @generative decorator for additional notes on these fields.

These args must match those allowed by any overload of GenerativeSlot.__call__.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `GenerativeSlot` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L260" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


A generative slot component.



<div className="h-8" />
**Methods:**

<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

#### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `extract_args_and_kwargs` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L299" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
extract_args_and_kwargs(*args, **kwargs) -> ExtractedArgs
```

Takes a mix of args and kwargs for both the generative slot and the original function and extracts them. Ensures the original function's args are all kwargs.

**Returns:**
- a dataclass of the required args for mellea and the original function.
- Either session or (backend, context) will be non-None.

**Raises:**
- `TypeError`: if any of the original function's parameters were passed as positional args


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

#### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `parts` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L388" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
parts(self) -> list[Component | CBlock]
```

Parts of Genslot.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

#### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#3064E3]/20 text-[#1D4ED8]">FUNC</span> `format_for_llm` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L396" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
format_for_llm(self) -> TemplateRepresentation
```

Formats the instruction for Formatter use.


<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `SyncGenerativeSlot` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L426" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />

### <span className="ml-2 inline-flex items-center rounded-full px-2 py-1 text-[0.7rem] font-bold tracking-wide bg-[#4ADE8033]/20 text-[#15803D]">CLASS</span> `AsyncGenerativeSlot` <sup><a href="https://github.com/generative-computing/mellea/blob/main/mellea/stdlib/components/genslot.py#L557" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


A generative slot component that generates asynchronously and returns a coroutine.

<div className="w-full h-px bg-gray-200 dark:bg-gray-700 my-4" />
